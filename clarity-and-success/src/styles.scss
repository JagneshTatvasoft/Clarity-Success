// Include theming for Angular Material with `mat.theme()`.
// This Sass mixin will define CSS variables that are used for styling Angular Material
// components according to the Material 3 design spec.
// Learn more about theming and how to use it for your application's
// custom components at https://material.angular.dev/guide/theming
@use '@angular/material' as mat;
@use 'tailwindcss';
@import 'assets/styles/variable';

:root {
  @media (max-width: 640px) {
    @include mat.expansion-overrides(
      (
        header-text-size: 0.9rem,
      )
    );

    @include mat.tabs-overrides(
      (
        label-text-size: 0.9rem,
      )
    );
    @include mat.form-field-overrides(
      (
        outlined-label-text-size: 0.8rem,
      )
    );
    @include mat.table-overrides(
      (
        header-headline-size: 0.8,
      )
    );
  }

  // For sidenav
  @include mat.sidenav-overrides(
    (
      container-shape: 0px,
      container-background-color: var(--sidebar-background),
      container-width: 250px,
      content-background-color: var(--primary-background),
      content-text-color: var(--primary-text-color),
      container-divider-color: var(--border-color),
    )
  );

  // For toolbar
  @include mat.toolbar-overrides(
    (
      container-background-color: white,
      container-text-color: var(--primary-text-color),
      standard-height: 3rem,
    )
  );

  mat-toolbar {
    border-bottom: 1px solid var(--border-color);
  }

  // For mat tree
  @include mat.tree-overrides(
    (
      container-background-color: -var(--sidebar-background),
      node-text-color: var(--primary-text-color),
    )
  );

  // For expanssion panel
  @include mat.expansion-overrides(
    (
      header-expanded-state-height: 3rem,
      header-collapsed-state-height: 3rem,
      container-text-size: 1.1rem,
      header-text-size: 1rem,
      header-disabled-state-text-color: var(--primary-text-color),
      header-text-color: var(--primary-text-color),
      container-text-color: var(--primary-text-color),
      container-background-color: var(--secondary-background),
      container-elevation-shadow: 0,
    )
  );
  .mat-expansion-panel-header {
    padding: 0 0.5rem !important;
  }

  .mat-expansion-panel-body {
    padding: 0 0;
  }
  // .mat-expansion-panel {
  //   border: 0.1rem solid var(--secondary-border-color);
  // }

  @include mat.option-overrides(
    (
      selected-state-layer-color: var(--sidebar-background),
      selected-state-label-text-color: var(--ternary-text-color),
    )
  );

  // For tabs
  @include mat.tabs-overrides(
    (
      container-height: 3rem,
      active-focus-indicator-color: var(--sidebar-background),
      active-focus-label-text-color: var(--sidebar-background),
      active-indicator-color: var(--sidebar-background),
      active-hover-indicator-color: var(--sidebar-background),
      active-label-text-color: var(--sidebar-background),
      divider-color: var(--secondary-border-color),
      inactive-label-text-color: var(--primary-text-color),
      // inactive-focus-label-text-color: var(--primary-text-color),
      label-text-size: 1rem,
      active-ripple-color: none,
      inactive-ripple-color: none,
      disabled-ripple-color: none,
    )
  );

  .mat-mdc-tab-header {
    background-color: var(--secondary-background);
    border-top-left-radius: 0.5rem;
    border-top-right-radius: 0.5rem;
    border-bottom-left-radius: 0.5rem;
    border-bottom-right-radius: 0.5rem;
    // border: 0.1rem solid var(--secondary-border-color);
    border-bottom: none;
  }

  .mat-mdc-tab-body {
    // border: 0.1rem solid var(--secondary-border-color);
    // border-top: none;
    // border-bottom-left-radius: 0.5rem !important;
    // border-bottom-right-radius: 0.5rem !important;
  }

  // For Form Field
  @include mat.form-field-overrides(
    (
      outlined-outline-color: var(--secondary-border-color),
      outlined-focus-outline-color: var(--primary-text-color),
      outlined-hover-outline-color: var(--primary-text-color),
      outlined-focus-label-text-color: var(--primary-text-color),
      outlined-hover-label-text-color: var(--primary-text-color),
      outlined-label-text-color: #1b4965b2,
      outlined-input-text-color: var(--primary-text-color),
      outlined-input-text-placeholder-color: #999999,
      outlined-outline-width: 0.1rem,
      outlined-container-shape: 0.5rem,
      outlined-label-text-size: 0.9rem,
      outlined-label-text-weight: 500,
      select-option-text-color: var(--primary-text-color),
    )
  );

  mat-form-field.small {
    --mat-form-field-container-height: 40px;
    --mat-form-field-container-vertical-padding: 8px;
  }

  mat-form-field.table-filter {
    --mat-form-field-container-height: 20px;
    --mat-form-field-container-vertical-padding: 6px;
    --mat-form-field-container-text-line-height: 0.8rem;
    --mat-form-field-outlined-container-shape: 4px;
    // --mat-form-field-outlined-label-text-size: 0.7rem;
    --mat-form-field-container-text-size: 0.8rem;
  }

  mat-form-field.table-filter .mdc-text-field--outlined {
    padding: 0 6px; // optional tighter padding
  }

  .mat-mdc-form-field {
    width: 100%;
  }

  // remove form field below space
  .mat-mdc-form-field-subscript-wrapper,
  .mat-mdc-form-field-bottom-align::before {
    display: none !important;
  }

  /* #region: Tailwind X Angular Material fix */
  .mdc-notched-outline__notch {
    border-style: block;
    border-right: none;
  }
  .mat-mdc-icon-button {
    line-height: 1;
  }
  /* #endregion */
  // change color of field
  // .mat-mdc-text-field-wrapper {
  //   background-color: var(--primary-background)
  // }

  // Select
  @include mat.select-overrides(
    (
      panel-background-color: var(--primary-background),
      focused-arrow-color: var(--primary-text-color),
      enabled-trigger-text-color: var(--primary-text-color),
    )
  );

  // Mat icon
  @include mat.icon-overrides(
    (
      color: var(--primary-text-color),
    )
  );

  // Mat chech box
  @include mat.checkbox-overrides(
    (
      selected-icon-color: var(--sidebar-background),
    )
  );

  // Mat dialog
  @include mat.dialog-overrides(
    (
      container-color: var(--primary-background),
      subhead-color: var(--primary-text-color),
      actions-alignment: left,
      container-max-width: 1000px,
      container-shape: 0.5rem,
      subhead-size: 1.25rem,
      content-padding: 1rem,
      headline-padding: 0.7rem,
      actions-padding: 0.7rem,
      with-actions-content-padding: 1rem,
    )
  );
  .mat-mdc-dialog-container .mat-mdc-dialog-title + .mat-mdc-dialog-content {
    padding-bottom: 0;
  }
  .mat-mdc-dialog-title::before {
    height: 0;
  }
  .mat-mdc-dialog-title {
    display: flex !important;
    align-items: center;
    border-bottom: 0.1rem solid var(--border-color);
  }
  .mat-mdc-dialog-actions {
    // border-top: 0.1rem solid var(--border-color);
    padding-top: 0;
  }

  // Mat table
  @include mat.table-overrides(
    (
      background-color: var(--secondary-background),
      header-headline-color: var(--primary-text-color),
      row-item-label-text-color: var(--primary-text-color),
      row-item-container-height: 3.5rem,
      // header-container-height: 3.5rem,
      header-container-height: 4rem,
      header-headline-size: 0.9,
      header-headline-weight: 500,
    )
  );

  .mat-mdc-table thead {
    background-color: var(--primary-background) !important;
  }

  table.custom-table.collapsed tr.mat-mdc-row {
    --mat-table-row-item-container-height: 2.5rem;
  }

  .material-icons {
    font-size: 1.3rem;
  }

  .mat-icon {
    align-self: center;
    height: 1.3rem;
    width: 1.3rem;
  }
}

/* Width of the scrollbar */
::-webkit-scrollbar {
  width: 2px;
  height: 2px;
  margin-left: 5px;
}

/* Track of the scrollbar */
::-webkit-scrollbar-track {
  background: #f1f1f1;
}

/* Handle of the scrollbar */
::-webkit-scrollbar-thumb {
  background: #888;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #555;
}

html {
  @include mat.theme(
    (
      color: (
        primary: mat.$azure-palette,
        tertiary: mat.$blue-palette,
      ),
      typography: Roboto,
      density: 0,
    )
  );
}

body {
  // Default the application to a light color theme. This can be changed to
  // `dark` to enable the dark color theme, or to `light dark` to defer to the
  // user's system settings.
  color-scheme: light;

  // Set a default background, font and text colors for the application using
  // Angular Material's system-level CSS variables. Learn more about these
  // variables at https://material.angular.dev/guide/system-variables
  background-color: var(--mat-sys-surface);
  color: var(--mat-sys-on-surface);
  font: var(--mat-sys-body-medium);

  // Reset the user agent margin.
  margin: 0;
}
/* You can add global styles to this file, and also import other style files */

html,
body {
  height: 100%;
  margin: 0;
}
body {
  margin: 0;
  font-family: Roboto, 'Helvetica Neue', sans-serif;
}

.page-header {
  background-color: var(--secondary-background-color);
  border-bottom: 0.1rem solid var(--border-color);
}

.custom-card {
  background-color: var(--secondary-background);
  padding: 1rem;
  border-radius: 0.5rem;
  // border:0.1rem solid var(--secondary-border-color);
}

.section-bottom-border {
  border-bottom: 0.1rem solid var(--border-color);
}

.mat-mdc-table .mat-mdc-header-cell {
  background: none !important;
}

.custom-table {
  border-collapse: collapse;

  /* add right border to all cells in a column together */
  .mat-mdc-header-cell,
  .mat-mdc-cell {
    border-right: 0.1px solid var(--secondary-border-color);
  }

  /* remove the last columnâ€™s border */
  .mat-header-cell:last-child,
  .mat-cell:last-child {
    border-right: none;
  }
  .mat-mdc-header-cell:last-child,
  .mat-mdc-cell:last-child {
    border-right: none;
  }
}
